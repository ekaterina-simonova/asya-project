# ü§ñ –ü—Ä–æ–µ–∫—Ç "–ê—Å—è" ‚Äî –Ω–µ–π—Ä–æ–ø–æ–º–æ—â–Ω–∏–∫ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏ –≤—Ö–æ–¥—è—â–∏—Ö –∑–≤–æ–Ω–∫–æ–≤

> **–°—Ç–∞—Ç—É—Å:** ‚ö†Ô∏è –ó–∞–º–æ—Ä–æ–∂–µ–Ω –¥–æ **15.10.2025**  
> **–ü—Ä–∏—á–∏–Ω–∞ –∑–∞–º–æ—Ä–æ–∑–∫–∏:** –û–∂–∏–¥–∞–Ω–∏–µ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–π –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ —Å–µ—Ä–≤–µ—Ä–∞ (Asterisk 20+, ARI WebSocket) –æ—Ç –ø–æ–¥—Ä—è–¥—á–∏–∫–æ–≤  
> **–¶–µ–ª—å:** –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤—Å–µ –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–µ —Ä–µ—à–µ–Ω–∏—è –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å—Å—è –∫ –±—ã—Å—Ç—Ä–æ–º—É –≤–æ–∑–æ–±–Ω–æ–≤–ª–µ–Ω–∏—é —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

---

## üîç –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

"–ê—Å—è" ‚Äî —ç—Ç–æ **–≥–æ–ª–æ—Å–æ–≤–æ–π –Ω–µ–π—Ä–æ–∞—Å—Å–∏—Å—Ç–µ–Ω—Ç**, –∫–æ—Ç–æ—Ä—ã–π:
- –ü—Ä–∏–Ω–∏–º–∞–µ—Ç –≤—Ö–æ–¥—è—â–∏–µ –∑–≤–æ–Ω–∫–∏ —á–µ—Ä–µ–∑ IP-—Ç–µ–ª–µ—Ñ–æ–Ω–∏—é (Asterisk)
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–±–∏—Ä–∞–µ—Ç –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–ª–∏–µ–Ω—Ç–µ: –∏–º—è, –Ω–æ–º–µ—Ä, –≥–æ—Ä–æ–¥, –æ—Ç–¥–µ–ª, –ø–æ—Ç—Ä–µ–±–Ω–æ—Å—Ç—å
- –û—Ç–≤–µ—á–∞–µ—Ç –Ω–∞ –≤–æ–ø—Ä–æ—Å—ã –ø–æ –ø—Ä–æ–¥—É–∫—Ü–∏–∏ –∫–æ–º–ø–∞–Ω–∏–∏ (—Ç–µ–ø–ª–æ- –∏ –æ–≥–Ω–µ–∑–∞—â–∏—Ç–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã: –®–ë–¢, –û–ë–ú, EXPERT FIRE-M –∏ –¥—Ä.)
- –ú–∞—Ä—à—Ä—É—Ç–∏–∑–∏—Ä—É–µ—Ç –∑–≤–æ–Ω–æ–∫ –º–µ–Ω–µ–¥–∂–µ—Ä—É –ø–æ—Å–ª–µ –∞–Ω–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é **–≤ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–Ω—Ç—É—Ä–µ**, –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –æ–±–ª–∞—á–Ω—ã—Ö LLM

–ü—Ä–æ–µ–∫—Ç —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω –∫–∞–∫ **–º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –µ–¥–∏–Ω–æ–≥–æ –ø—Ä–æ–º–ø—Ç–∞**, –≥–¥–µ –≤—Å—è –ª–æ–≥–∏–∫–∞ –¥–∏–∞–ª–æ–≥–∞ —É–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è **—á–µ—Ä–µ–∑ –æ–¥–∏–Ω LLM (Mistral-NeMo-Minitron-8B)**, –∞ –Ω–µ —á–µ—Ä–µ–∑ –º–Ω–æ–∂–µ—Å—Ç–≤–æ —Å–∫—Ä–∏–ø—Ç–æ–≤.

---

## üß© –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è |
|----------|-----------|
| **LLM** | Mistral-NeMo-Minitron-8B-Instruct-Q6_K_L.gguf (—á–µ—Ä–µ–∑ llama.cpp) |
| **STT** | NVIDIA NeMo `stt_ru_conformer_transducer.nemo` |
| **VAD** | NVIDIA NeMo `vad_multilingual_marblenet.nemo` |
| **TTS** | Silero TTS `silero_tts_v4.pth` |
| **–¢–µ–ª–µ—Ñ–æ–Ω–∏—è** | Asterisk 20+ —Å ARI (WebSocket + REST API) |
| **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** | FastAPI + aiohttp + ARI |
| **–ü—Ä–æ–º–ø—Ç** | –ï–¥–∏–Ω—ã–π –º—É–ª—å—Ç–∏–∞–≥–µ–Ω—Ç–Ω—ã–π JSON-—Ñ–æ—Ä–º–∞—Ç (`reasoning`, `answer`, `system_info`) |
| **–•—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** | SQLite (`clients.db`) + Markdown (`products_kb.md`) |


---

## üõ†Ô∏è –ö–ª—é—á–µ–≤—ã–µ —Ä–µ—à–µ–Ω–∏—è

### ‚úÖ –ü–æ—á–µ–º—É –≤—ã–±—Ä–∞–Ω ARI?
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç WebSocket ‚Äî –∏–¥–µ–∞–ª—å–Ω–æ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏
- –ü–æ–ª–Ω–æ—Å—Ç—å—é —Å–æ–≤–º–µ—Å—Ç–∏–º —Å FastAPI
- –ü–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—É—á–∞—Ç—å —Å–æ–±—ã—Ç–∏—è: `StasisStart`, `PlaybackFinished`, `ChannelHangup`
- –°–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Å—Ç–∞–Ω–¥–∞—Ä—Ç (–≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç AGI)

> üí° **–†–µ—à–µ–Ω–∏–µ:** –ü–µ—Ä–µ–π—Ç–∏ —Å AGI –Ω–∞ ARI ‚Äî **–ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ —Ç–µ—Å—Ç–∞–º–∏ –∏ —Å—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–æ–π —Ç–∞–±–ª–∏—Ü–µ–π**

### ‚úÖ –ü–æ—á–µ–º—É LLM: Mistral-NeMo-Minitron-8B?
- –§–æ—Ä–º–∞—Ç GGUF ‚Üí —Ä–∞–±–æ—Ç–∞–µ—Ç —Å `llama.cpp` –Ω–∞ GPU/CPU
- –ü–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ VRAM: ~6 –ì–ë ‚Üí –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è T4 (16 –ì–ë)
- –í—ã—Å–æ–∫–æ–µ –∫–∞—á–µ—Å—Ç–≤–æ –ø–æ–Ω–∏–º–∞–Ω–∏—è —Å–ª–æ–∂–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ä—É—Å—Å–∫–æ–≥–æ —è–∑—ã–∫–∞ –∏ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏—Ö —Ç–µ—Ä–º–∏–Ω–æ–≤

> ‚ùó **–í–∞–∂–Ω–æ:** –ú–æ–¥–µ–ª—å –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ —Ñ–∞–π–ª–∞, –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞.

### ‚úÖ –ü–æ—á–µ–º—É STT: NeMo, –∞ –Ω–µ Whisper –∏–ª–∏ Vosk?
- –õ—É—á—à–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–Ω—ã—Ö –∑–≤–æ–Ω–∫–∞—Ö
- –û–±—É—á–µ–Ω–∞ –Ω–∞ —à—É–º–Ω—ã—Ö —É—Å–ª–æ–≤–∏—è—Ö (G.711, Opus, —ç—Ö–æ, –ø–µ—Ä–µ–∫—Ä—ã—Ç–∏—è)
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ –ø–æ—Ç–æ–∫–∞ (streaming)
- –°–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å TensorRT

### ‚úÖ –ü–æ—á–µ–º—É VAD: NeMo?
- `vad_multilingual_marblenet.nemo` –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –º–µ–Ω—å—à–µ –ª–æ–∂–Ω—ã—Ö —Å—Ä–∞–±–∞—Ç—ã–≤–∞–Ω–∏–π
- –£—Å—Ç–æ–π—á–∏–≤ –∫ —Ñ–æ–Ω–æ–≤—ã–º —à—É–º–∞–º (–∫–ª–∞–≤–∏–∞—Ç—É—Ä–∞, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç, –≤–µ—Ç–µ—Ä)
- –ù–∏–∑–∫–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ (~30‚Äì50 –º—Å –Ω–∞ —Ñ—Ä–µ–π–º)

### ‚úÖ –ü–æ—á–µ–º—É TTS: Silero TTS?
- –†—É—Å—Å–∫–∏–π —è–∑—ã–∫, –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∏–Ω—Ç–æ–Ω–∞—Ü–∏—è
- –õ—ë–≥–∫–∏–π –≤–µ—Å (~1.1 –ì–ë), —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ CPU
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ—Ä–Ω–µ—Ç–∞
- –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≥–æ–ª–æ—Å–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã (xenia, aidar, baya)

### ‚úÖ –ë–∞–∑–∞ –∑–Ω–∞–Ω–∏–π: `products_kb.md`
- –•—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ñ–æ—Ä–º–∞—Ç–µ Markdown
- –í—Å–µ –ø—Ä–æ–¥—É–∫—Ç—ã: –®–ë–¢, –û–ë–ú, –º–∞—Ç—ã, –ø—Ä–æ—à–∏–≤–Ω—ã–µ –∏–∑–¥–µ–ª–∏—è, EXPERT FIRE-M, EXPERT OM
- –°–æ–¥–µ—Ä–∂–∏—Ç: –æ–ø–∏—Å–∞–Ω–∏–µ, —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–π —Ä–µ–∂–∏–º, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ, —Ö–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∏
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –Ω–∞–ø—Ä—è–º—É—é –≤ –ø—Ä–æ–º–ø—Ç–µ LLM


---

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∏ –∑–∞–ø—É—Å–∫

### 1. –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è –∫ —Å–µ—Ä–≤–µ—Ä—É
- **–û–°**: Ubuntu 22.04 LTS
- **GPU**: NVIDIA T4 (16 –ì–ë VRAM)
- **–î—Ä–∞–π–≤–µ—Ä—ã**: CUDA 12.x, cuDNN, NVIDIA drivers
- **Python**: 3.10+
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: —Å–º. `requirements.txt`

### 2. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt